<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For Izzy ðŸ’–</title>
  <style>
    :root{
      --pink:#ff4d6d;
      --soft:#ff9a9e;
    }
    html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif;background:linear-gradient(135deg,#ff9a9e,#fad0c4);overflow:hidden}
    /* Base faded mirror photo */
    body::before{
      content:"";
      position:fixed;inset:0;
      background: url("mirror.jpg") center/cover no-repeat;
      opacity:0.32; z-index:0;
      filter: contrast(0.95) saturate(0.9) blur(2px);
      transition:opacity .6s ease;
    }

    /* floral SVG overlay (full blended wallpaper feel) */
    .floral-overlay{
      pointer-events:none;
      position:fixed;inset:0;z-index:0;
      mix-blend-mode: screen;
      opacity:0.95;
    }
    /* soft grain/veil above everything to unify tones */
    .veil{
      position:fixed;inset:0;z-index:1;background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.06));
      pointer-events:none;
      mix-blend-mode: soft-light;
    }

    /* floating petals container */
    .petals{
      position:fixed;inset:0;z-index:1;pointer-events:none;overflow:hidden;
    }
    .petal{
      position:absolute;
      width:26px;height:26px;
      background:radial-gradient(circle at 50% 30%, rgba(255,230,240,1) 0%, rgba(255,150,180,0.95) 50%, rgba(255,120,150,0.65) 100%);
      border-radius:50% 50% 40% 40% / 60% 60% 40% 40%;
      transform-origin:center;
      opacity:0.85;
      filter: blur(0.2px) drop-shadow(0 2px 6px rgba(255,80,110,0.12));
    }

    /* petal animations - differing speeds */
    @keyframes float1{0%{transform:translateY(110vh) rotate(0) scale(1)}50%{transform:translateY(40vh) rotate(45deg) scale(.95)}100%{transform:translateY(-20vh) rotate(90deg) scale(.85)}}
    @keyframes float2{0%{transform:translateY(120vh) rotate(10deg) scale(.9)}50%{transform:translateY(50vh) rotate(-20deg) scale(1.05)}100%{transform:translateY(-30vh) rotate(-80deg) scale(.8)}}
    @keyframes float3{0%{transform:translateY(100vh) rotate(-10deg) scale(1.05)}50%{transform:translateY(45vh) rotate(30deg) scale(.95)}100%{transform:translateY(-25vh) rotate(65deg) scale(.75)}}

    /* Container and main card */
    .container{
      position:relative;z-index:2;
      width:360px;padding:38px;border-radius:20px;
      background:rgba(255,255,255,0.92);
      box-shadow:0 12px 40px rgba(0,0,0,0.18);
      text-align:center;
      opacity:0;transform:translateY(20px);
      animation:cardIn 900ms ease forwards; animation-delay:0.6s;
    }
    @keyframes cardIn{to{opacity:1;transform:none}}

    h1{color:var(--pink);margin:0 0 8px;font-size:28px;letter-spacing:0.2px}
    p{color:#6b2f3a;margin:0 0 12px}

    /* side photos */
    .side-photo{position:fixed;width:175px;border-radius:15px;object-fit:cover;box-shadow:0 0 25px rgba(255,77,109,0.65);z-index:3;opacity:0;animation:photoIn 1200ms ease forwards;transition:transform .35s ease,box-shadow .35s ease}
    @keyframes photoIn{to{opacity:1;transform:none}}
    #photo-left{left:36px;bottom:36px;transform:rotate(-6deg);animation-delay:.5s}
    #photo-right{right:36px;top:36px;transform:rotate(6deg);animation-delay:.7s}
    .side-photo:hover{transform:scale(1.06) rotate(0deg);box-shadow:0 0 40px rgba(255,105,135,0.98)}

    /* Buttons and interactions */
    button{font-size:17px;padding:12px 24px;border-radius:10px;border:none;cursor:pointer}
    .primary{background:var(--pink);color:white}
    .buttons{margin-top:30px;position:relative;height:160px}
    .buttons button{position:absolute}
    #yes{left:calc(50% - 140px);top:80px}
    #no{left:calc(50% + 40px);top:80px;background:#ddd;color:#222}

    .message{position:absolute;font-size:14px;color:var(--pink);font-weight:700;opacity:0;animation:fadeUp 1.2s ease forwards;pointer-events:none}
    @keyframes fadeUp{0%{opacity:0;transform:translateY(6px)}20%{opacity:1}100%{opacity:0;transform:translateY(-15px)}}

    /* final yes screen */
    .final{
      position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:12;
      background:linear-gradient(180deg,#ff5a7a,#ffb1c1);color:white;font-size:26px;font-weight:700;text-align:center;opacity:0;animation:finalIn .6s ease forwards
    }
    @keyframes finalIn{to{opacity:1}}

    /* small heart particle (confetti hearts) */
    .heart{
      position:absolute;width:14px;height:14px;transform:rotate(45deg);
      background:var(--pink);border-radius:3px 3px 0 0;
      filter:drop-shadow(0 4px 10px rgba(200,40,70,.25));
    }
    .heart:before,.heart:after{content:"";position:absolute;background:var(--pink);width:14px;height:14px;border-radius:50%}
    .heart:before{left:-7px;top:0}
    .heart:after{top:-7px;left:0}

    /* small responsive tweak */
    @media (max-width:420px){
      .container{width:92%;padding:26px}
      .side-photo{width:120px}
      #photo-left{left:12px;bottom:12px}
      #photo-right{right:12px;top:12px}
    }
  </style>
</head>
<body>

  <!-- floral overlay (SVG shapes approximating hibiscus / baby breath textures, full-screen, soft & blended) -->
  <svg class="floral-overlay" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
    <!-- soft hibiscus petals - layered, low opacity -->
    <g opacity="0.14" transform="translate(80,40)">
      <ellipse cx="150" cy="110" rx="220" ry="120" fill="#ffb3c1" />
      <ellipse cx="400" cy="60" rx="140" ry="80" fill="#ff7fa0" transform="rotate(-18 400 60)"/>
      <ellipse cx="820" cy="160" rx="260" ry="140" fill="#ffc9d3" />
      <ellipse cx="980" cy="80" rx="160" ry="95" fill="#ff92b0" transform="rotate(8 980 80)"/>
    </g>

    <!-- baby breath textured dots -->
    <g opacity="0.12" fill="#fff6f8" transform="translate(0,0)">
      <circle cx="60" cy="40" r="2.8"/><circle cx="120" cy="80" r="2.6"/><circle cx="200" cy="24" r="3"/>
      <circle cx="260" cy="160" r="2.2"/><circle cx="320" cy="80" r="2.4"/><circle cx="420" cy="120" r="2.6"/>
      <circle cx="520" cy="48" r="2.1"/><circle cx="620" cy="168" r="2.8"/><circle cx="720" cy="88" r="2.5"/>
      <circle cx="840" cy="200" r="2.6"/><circle cx="960" cy="36" r="2.6"/><circle cx="1100" cy="140" r="2.3"/>
    </g>

    <!-- more floral large shapes to create the blended wallpaper -->
    <g opacity="0.10">
      <path d="M0 380 C120 320 180 260 300 300 C420 340 520 420 660 380 C800 340 940 280 1200 340 L1200 800 L0 800 Z" fill="#ffdbe0"/>
      <path d="M0 120 C160 80 240 40 420 60 C600 80 720 140 900 120 C1020 110 1140 70 1200 90 L1200 0 L0 0 Z" fill="#ffeaf0"/>
    </g>
  </svg>

  <!-- subtle veil -->
  <div class="veil" aria-hidden="true"></div>

  <!-- floating petals (many) -->
  <div class="petals" aria-hidden="true" id="petalContainer"></div>

  <!-- side photos (place these images in same folder as this HTML) -->
  <img src="her.jpg" id="photo-left" class="side-photo" alt="Her photo">
  <img src="selfie.jpg" id="photo-right" class="side-photo" alt="Your photo">

  <!-- main card -->
  <div class="container" id="screen"></div>

  <!-- final yes screen holder (created on click) -->
  <div id="finalHolder"></div>

  <script>
    // build intro content
    const screen = document.getElementById('screen');
    screen.innerHTML = `
      <h1>Hello Izzy ðŸ’–</h1>
      <p>If you're seeing this, you probably clicked the link that I made just for you ðŸ¥°</p>
      <button class="primary" onclick="goToValentine()">Yes, I'm seeing this ðŸ’•</button>
    `;

    // floating petals generator
    const petalContainer = document.getElementById('petalContainer');
    const petalCount = 20;
    for(let i=0;i<petalCount;i++){
      const el = document.createElement('div');
      el.className='petal';
      // random starting horizontal position
      el.style.left = Math.random()*100 + 'vw';
      // start below screen
      el.style.top = (95 + Math.random()*40) + 'vh';
      // random animation choice
      const choice = Math.floor(Math.random()*3)+1;
      const dur = 18 + Math.random()*18; // 18s-36s
      el.style.animation = `float${choice} ${dur}s linear infinite`;
      // random delay so not in sync
      el.style.animationDelay = (Math.random()*-dur) + 's';
      // slight size variation
      const size = 14 + Math.random()*22;
      el.style.width = size + 'px';
      el.style.height = size + 'px';
      petalContainer.appendChild(el);
    }

    let messageIndex = 0;
    const messages = [
      "Youâ€™re too slow ðŸ˜",
      "Wrong answer ðŸ˜Œ",
      "Why wonâ€™t you be my Valentine ðŸ’”"
    ];

    function goToValentine(){
      // remove side photos to focus on the question screen
      document.querySelectorAll('.side-photo').forEach(e=>e.remove());
      // keep floral veil but slightly lighten it for contrast
      document.body.style.background = 'linear-gradient(135deg,#ff9a9e,#fad0c4)';
      // populate valentine card
      screen.innerHTML = `
        <h1>Isabella Geary ðŸ’–</h1>
        <h2 style="margin:8px 0 0 0;color:#72263a;font-weight:600">Will you be my Valentine?</h2>
        <div class="buttons" id="buttonArea">
          <button id="yes" class="primary" onclick="yesClicked()">Yes ðŸ’˜</button>
          <button id="no">No ðŸ˜¢</button>
        </div>
      `;
      const noButton = document.getElementById('no');
      const area = document.getElementById('buttonArea');

      noButton.addEventListener('click', () => {
        const oldLeft = noButton.offsetLeft;
        const oldTop = noButton.offsetTop;
        const msg = document.createElement('div');
        msg.className = 'message';
        msg.innerText = messages[messageIndex];
        messageIndex = (messageIndex+1)%messages.length;
        msg.style.left = oldLeft + 10 + 'px';
        msg.style.top = oldTop - 10 + 'px';
        area.appendChild(msg);
        setTimeout(()=>msg.remove(),1200);

        const maxX = Math.max(area.clientWidth - noButton.offsetWidth, 10);
        const maxY = Math.max(area.clientHeight - noButton.offsetHeight, 10);
        const x = Math.random()*maxX;
        const y = Math.random()*maxY;
        noButton.style.left = x + 'px';
        noButton.style.top = y + 'px';
      });
    }

    // yes button final - confetti hearts + final message
    function yesClicked(){
      // gently stop petals (fade)
      document.getElementById('petalContainer').style.transition='opacity .9s ease';
      document.getElementById('petalContainer').style.opacity='0.18';
      // create hearts burst
      createHeartsBurst(window.innerWidth/2, window.innerHeight/2 - 80, 18);

      // create final overlay
      const final = document.createElement('div');
      final.className='final';
      final.innerHTML = `<div style="max-width:760px;padding:24px">
          <div style="font-size:38px;line-height:1.05">YAY!!! ðŸ’•ðŸ¥°</div>
          <div style="margin-top:12px;font-size:20px">I canâ€™t wait to be your Valentine ðŸ’˜</div>
        </div>`;
      document.getElementById('finalHolder').appendChild(final);
      // optional: remove main card after a moment
      setTimeout(()=>{document.querySelector('.container').style.opacity='0.0'}, 600);
    }

    // hearts burst
    function createHeartsBurst(cx,cy,count){
      for(let i=0;i<count;i++){
        const heart = document.createElement('div');
        heart.className='heart';
        document.body.appendChild(heart);
        const angle = (Math.random()*Math.PI*2);
        const dist = 60 + Math.random()*220;
        const targetX = cx + Math.cos(angle)*dist + (Math.random()*80-40);
        const targetY = cy + Math.sin(angle)*dist + (Math.random()*80-40);
        heart.style.left = (cx - 8) + 'px';
        heart.style.top = (cy - 8) + 'px';
        heart.style.opacity = 0;
        heart.style.transform = 'rotate(45deg) scale(.8)';
        heart.animate([
          { transform: 'translate(0,0) rotate(45deg) scale(.6)', opacity:1 },
          { transform: `translate(${targetX-cx}px, ${targetY-cy}px) rotate(${Math.random()*360}deg) scale(1)`, opacity:1 },
          { transform: `translate(${targetX-cx}px, ${targetY-cy}px) rotate(${Math.random()*480}deg) scale(.2)`, opacity:0 }
        ], {
          duration: 1200 + Math.random()*600, easing:'cubic-bezier(.2,.8,.2,1)'
        });
        // remove after animation
        setTimeout(()=>heart.remove(),2200);
      }
    }

    // ensure accessible alt text if images fail
    document.querySelectorAll('img').forEach(i=>{
      if(!i.complete){ i.addEventListener('error', ()=>{ i.style.display='none' }); }
    });

    // make more petals periodically (keeps the motion alive if some fade)
    setInterval(()=>{
      // small chance to add a petal so motion always present
      if(Math.random() < 0.6){
        const el = document.createElement('div');
        el.className='petal';
        el.style.left = Math.random()*100 + 'vw';
        el.style.top = (95 + Math.random()*40) + 'vh';
        const choice = Math.floor(Math.random()*3)+1;
        const dur = 18 + Math.random()*18;
        el.style.animation = `float${choice} ${dur}s linear infinite`;
        el.style.animationDelay = (Math.random()*-dur) + 's';
        const size = 12 + Math.random()*24;
        el.style.width = size + 'px';
        el.style.height = size + 'px';
        petalContainer.appendChild(el);
        // remove after long time to keep DOM tidy
        setTimeout(()=>{ el.remove(); }, 60000);
      }
    },2200);
  </script>
</body>
</html>
